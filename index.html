<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>政策選擇器 / Policy Selector</title>
<style>
    body {
        background: black;
        color: #00ff00;
        font-family: Consolas, monospace;
        padding: 40px;
    }
    select, button {
        background: black;
        color: #00ff00;
        border: 1px solid #00ff00;
        padding: 8px;
        font-family: Consolas, monospace;
    }
    #loading {
        white-space: pre;
        margin-top: 20px;
        font-size: 16px;
        display: none;
    }
</style>
</head>
<body>

<h2>gov.policy.module // 政策模擬器</h2>
<p>請選擇一項要優先執行的兒少政策建議：</p>

<select id="policySelect">
    <option value="" disabled selected>-- 請選擇政策 --</option>

    <option disabled>=== 永續環境 ===</option>
    <option value="綠色通勤更容易|sustainable.html">綠色通勤更容易</option>
    <option value="全民氣候行動日|sustainable.html">全民氣候行動日</option>
    <option value="菸蒂不落地|sustainable.html">菸蒂不落地</option>
    <option value="社區公園 × 樹更多|sustainable.html">社區公園 × 樹更多</option>
    <option value="減塑日行動|sustainable.html">減塑日行動</option>
    <option value="菸品減害設計|sustainable.html">菸品減害設計</option>

    <option disabled>=== 數位安全與健康使用 ===</option>
    <option value="智慧3C設計|digital.html">智慧3C設計</option>
    <option value="健康使用3C教育|digital.html">健康使用3C教育</option>
    <option value="校園無3C日|digital.html">校園無3C日</option>
    <option value="數位性剝削零容忍|digital.html">數位性剝削零容忍</option>
    <option value="媒體共同守護|digital.html">媒體共同守護</option>

    <option disabled>=== 兒少參與與表意 ===</option>
    <option value="全校學生會議制度化|expression.html">全校學生會議制度化</option>
</select>

<br><br>
<button onclick="runSimulation()">執行 / Execute</button>

<div id="loading"></div>

<script>
const policyDescriptions = {
    "全民氣候行動日": "制定應對氣候變遷的法律，並定期舉辦全民氣候行動活動，讓大人與孩子都能一起參與。",
    "菸蒂不落地": "推動菸蒂減量與收集設施，結合教育宣導，讓環境更乾淨、空氣更清新。",
    "綠色通勤更容易": "加強公共運輸使用與獎勵措施，減少私人交通工具，降低碳排放。",
    "社區公園 × 樹更多": "每個城市都應有更多安全、綠意的公園，讓孩子能自在呼吸與遊戲。",
    "減塑日行動！": "每月一次「減塑日」，從社區與校園開始，減少一次性塑膠製品使用。",
    "菸品減害設計": "要求菸品製造商改用可分解濾嘴，減少環境污染與下水道堵塞。",

    "智慧3C設計": "政府應規範3C產品，在長時間使用後提醒休息，保護眼睛與健康。",
    "健康使用3C教育": "定期進行健康使用3C宣導，提供教材與活動，幫助家長與兒少理解過度使用的危害。",
    "校園無3C日": "每學期至少舉辦一次校園無3C日，鼓勵學生多參與戶外活動、降低近視率。",
    "數位性剝削零容忍": "完善防治兒少數位性剝削的法律，並建立兒少專屬的安全通報與支持系統。",
    "媒體共同守護": "政府與媒體應加強宣導數位性剝削的危害，提升社會大眾防範意識。",

    "全校學生會議制度化": "每學年至少舉辦一次全校學生會議，讓學生能發表對校園生活與政策的意見。"
};

function runSimulation() {
    const sel = document.getElementById("policySelect").value;
    if (!sel)  {
        alert("請選擇一項政策！"); // 修改位置 4: 提示使用者
        return;
    }
    
    const [policy, target] = sel.split("|");

    const detail = policyDescriptions[policy];
    const detail = policyDescriptions[policy] || "（無詳細資訊）";

    // 顯示 loading 區塊
    const load = document.getElementById("loading");
    load.style.display = "block";

    const seq = [
        "[35%] ███████▒▒▒▒▒▒▒▒▒▒▒▒▒ 35%  loading...\n",
        "[50%] ███████████▒▒▒▒▒▒▒▒ 50%  compiling...\n",
        "[75%] ███████████████▒▒▒ 75%  linking...\n",
        "[100%] ██████████████████ 100% 完成！\n"
    ];

    let idx = 0;
    load.textContent = "";

    let timer = setInterval(() => {
        load.textContent += seq[idx];
        idx++;
        if (idx === seq.length) {
            clearInterval(timer);

            // 跳轉 + 搬運政策名稱
            const url = `${target}?policy=${encodeURIComponent(policy)}&detail=${encodeURIComponent(detail)}`;
            window.location.href = url;
        }
    }, 700);
}
</script>

</body>
</html>


